/**
 * @author Ho Huu Ngoan (ngoanh2n@gmail.com)
 * @since 2020-01-27
 */
group(property("prj.groupId"))
version(property("prj.version"))
description(property("prj.desc") as String)

apply plugin: "java"
apply plugin: "idea"
apply plugin: "signing"
apply plugin: "java-library"
apply plugin: "maven-publish"

apply from: "gradle/testing.gradle"
apply from: "gradle/compiling.gradle"
apply from: "gradle/publishing.gradle"
apply from: "gradle/dependencies.gradle"

repositories {
    mavenCentral()
    maven { url "https://plugins.gradle.org/m2/" }
}

buildscript {
    repositories {
        mavenCentral()
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {}
}

clean.doFirst {
    delete project.file("out")
}

tasks.build.configure {
    dependsOn.removeIf { task -> (task == "check") }
    assemble.dependsOn("clean")
    dependsOn("publishToMavenLocal")
}
